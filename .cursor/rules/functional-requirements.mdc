---
description: 
globs: 
alwaysApply: false
---
 # 東京電力 屋外常設物管理システム 機能要件

## 1. ユーザー認証・セキュリティ
| No | 機能要件 | 優先度 | 補足 |
|:--:|:--|:--:|:--|
| 1 | ユーザー認証機能（ID／パスワードによるログイン） | マスト | メールアドレスと所属情報にリンク、社員番号希望 |
| 2 | 2段階認証機能（ワンタイムパスワード送信・認証） | 可能なら | PWの変更時のみ必要 |

## 2. データ移行機能
### 2.1 撮影データ
| No | 機能要件 | 優先度 | 補足 |
|:--:|:--|:--:|:--|
| 3 | SDカードからの撮影データ取り込み機能 | マスト | |
| 4 | 撮影データの自動削除機能（移行完了後） | 不要 | 管理を徹底すれば不要 |
| 5 | 撮影データの自動削除前アラート機能 | 不要 | 管理を徹底すれば不要 |

### 2.2 設置物申請データ
| No | 機能要件 | 優先度 | 補足 |
|:--:|:--|:--:|:--|
| 6 | 既存設置物管理システムとのデータ連携機能 | 不要 | 紙ベースが基本で既存システムが存在しない可能性あり |
| 7 | 申請書類のOCR自動読み取り機能 | 重要 | 画像からテキスト抽出 |
| 8 | 設置物情報の手動入力画面および登録機能 | マスト | 主管G操作、登録内容の種類は要確認 |

## 3. 画像処理機能
| No | 機能要件 | 優先度 | 補足 |
|:--:|:--|:--:|:--|
| 9 | 撮影画像の自動補正・オルソ化処理機能 | マスト | |
| 10 | エリア別画像のタイル分割処理機能 | マスト | |
| 11 | 設置物の時系列差分検出機能 | マスト | 変化検出ロジック搭載 |
| 12 | 差分検知アラート通知機能 | マスト | 重要度に応じた通知 |
| 13 | 人や車などの移動体検出および除外処理機能 | マスト | |

## 4. 分析処理機能
| No | 機能要件 | 優先度 | 補足 |
|:--:|:--|:--:|:--|
| 14 | 設置物の種別自動分類機能 | マスト | 物体検出AI |
| 15 | 複数画像解析手法の実行切替・管理機能 | 可能なら | プロセスを追跡できる機能が必要 |
| 16 | 差分検出精度のログ管理・可視化機能 | マスト | |
| 17 | 複数分析結果の統合処理・表示機能 | 不要 | |

## 5. 画像確認・検索機能
| No | 機能要件 | 優先度 | 補足 |
|:--:|:--|:--:|:--|
| 18 | 撮影画像のズームイン／ズームアウト機能 | マスト | |
| 19 | 比較対象画像の並列表示機能 | マスト | |
| 20 | 画像解析結果のフィルタ・ソート・選択機能 | マスト | 画像解析の種類は別途一覧化予定 |
| 21 | ユーザー操作ログのエリア・タイル単位記録機能 | マスト | |
| 22 | マップ上の設置物選択および一覧表示機能 | マスト | |
| 23 | 申請内容の詳細表示機能 | 重要 | 主管G操作、リンク連携付き |
| 24 | 申請確認ステータス表示機能 | 重要 | 完了／未完了 |
| 25 | 設置物の変更履歴表示機能 | 不要 | 撤去・改造・移設情報 |
| 26 | 画像未添付理由のコメント記録・確認機能 | 重要 | |
| 27 | 申請内容と実画像の差異比較機能 | マスト | 差分表示 |
| 40 | 条件検索機能 | マスト | 主管G操作、エリア・物品など |
| 41 | 申請書から対応画像へのリンク遷移機能 | マスト | |

## 6. 確認関連処理機能
| No | 機能要件 | 優先度 | 補足 |
|:--:|:--|:--:|:--|
| 44 | 確認状況のフラグ付与機能 | マスト | 済・問題有・要確認 |
| 45 | 確認実施者の記録・表示機能 | マスト | 監査ログ |
| 46 | 差異のない部分のアラート削除機能 | マスト | |
| 47 | 漏れていた差異の登録機能 | マスト | 時系列履歴参照、傾向分析のためのデータ取得が重要 |
| 48 | 申請あり差異の問題なし登録機能 | マスト | |
| 49 | 設置物の状態変更登録機能 | マスト | 主管G操作、設置・撤去・改造・移設 |
| 50 | 設置物へのコメント・所見入力機能 | マスト | |
| 51 | 申請状態のステータス選択機能 | 重要 | 担当部署確認中など |

## 7. 出力機能
| No | 機能要件 | 優先度 | 補足 |
|:--:|:--|:--:|:--|
| 52 | 設置物一覧出力機能 | マスト | CSVまたはPDF |
| 53 | 差異一覧リスト出力機能 | マスト | |
| 54 | 設置物の影響評価入力・出力機能 | マスト | |
| 55 | 担当部署へのメッセージ送信機能 | 可能なら | 宛先は手動入力、本文テンプレ必要 |
| 56 | メッセージテンプレートの自動挿入・送信機能 | 重要 | |
| 57 | 申請書内容の編集・更新機能 | マスト | 主管G操作 |

## 8. Wチェック機能
| No | 機能要件 | 優先度 | 補足 |
|:--:|:--|:--:|:--|
| 58 | Wチェック依頼通知および承認フロー機能 | 可能なら | ユーザーリスト管理、申請書類の差し替えのみ |
| 59 | 設置物申請内容の承認・却下機能 | 不要 | 承認フロー |
| 60 | Wチェック依頼事項のリスト化機能 | 不要 | |

## 9. 管理機能
| No | 機能要件 | 優先度 | 補足 |
|:--:|:--|:--:|:--|
| 61 | 担当部署別差異集計・表示機能 | 不要 | 時期ごとに参照できるようにしたい |
| 62 | ユーザーアクセス履歴のログ管理機能 | マスト | |
| 63 | ユーザー毎の利用時間集計・表示機能 | マスト | |
| 64 | 差分検出精度のログ管理・可視化機能 | マスト | |
| 65 | 差分検出精度の蓄積分析機能 | 不要 | |
| 66 | ユーザー権限管理およびアクセス制御機能 | マスト | |
| 67 | データ保存期間の設定および自動削除機能 | マスト | |
| 68 | データの手動削除／保存機能 | マスト | 削除の際は承認行為を入れたい |

## 10. その他機能（将来的）
| No | 機能要件 | 主管G操作 | 補足 |
|:--:|:--|:--:|:--|
| 70 | 申請書提出要否のフラグ付与機能 | ○ | 将来的 |
| 71 | 設置物の寸法・重量・評価結果記載機能 | ○ | 将来的、申請書内 |
| 72 | 指定フォーマットのExcelファイル自動取込機能 | ○ | 将来的 |
| 73 | 申請書の自動採番機能 | ○ | 将来的、ユニーク番号発番 |
| 74-76 | 設置物周辺情報の地図表示機能 | ○ | 将来的、縮尺・距離・エリア情報付き | 