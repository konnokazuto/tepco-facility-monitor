---
description: 
globs: 
alwaysApply: false
---
 # 東京電力 屋外常設物管理システム 業務要件

## 1. ログイン関連

- メールアドレスと所属情報を紐づけたユーザー認証機能（マスト要件）
- PWの変更時のみ2段階認証機能を実装（可能なら）

## 2. データ移行処理

### 2.1 撮影データ
- SDカードからの撮影データ取り込み機能（マスト要件）
- 移行完了後の自動削除機能（オプション）
- 削除前のアラート表示機能（オプション）

### 2.2 設置物申請データ
- 申請書類のOCR自動読み取り機能（重要要件）
- 設置物情報の手動入力画面および登録機能（主管G操作・マスト要件）

## 3. 画像処理

- 撮影画像の自動補正・オルソ化処理機能（マスト要件）
- エリア別画像のタイル分割処理機能（マスト要件）
- 設置物の時系列差分検出機能（マスト要件）
- 差分検知アラート通知機能（マスト要件）
- 人や車などの移動体検出および除外処理機能（マスト要件）

## 4. 分析処理（差分検知）

- 設置物の種別自動分類機能（マスト要件）
- 差分検出精度のログ管理・可視化機能（マスト要件）
- 複数分析結果の統合処理・表示機能（可能なら）
- 複数画像解析手法の実行切替・管理機能（可能なら）

## 5. 画像確認・検索

### 5.1 基本機能（マスト要件）
- 撮影画像のズームイン／ズームアウト機能
- 比較対象画像の並列表示機能
- 画像解析結果のフィルタ・ソート・選択機能
- ユーザー操作ログのエリア・タイル単位記録機能
- マップ上の設置物選択および一覧表示機能
- 申請内容と実画像の差異比較機能
- 条件検索機能（エリア・物品など）（主管G操作）
- 申請書から対応画像へのリンク遷移機能

### 5.2 追加機能（重要・可能なら）
- 申請内容の詳細表示機能（主管G操作・重要要件）
- 申請確認ステータス表示機能（重要要件）
- 設置物の変更履歴表示機能（可能なら）
- 画像未添付理由のコメント記録・確認機能（重要要件）

## 6. 確認関連処理

### 6.1 基本機能（マスト要件）
- 確認状況のフラグ付与機能
- 確認実施者の記録・表示機能
- 設置物の状態変更（設置・撤去・改造・移設）登録機能（主管G操作）
- 設置物への所見・コメント機能

### 6.2 追加機能（重要要件）
- 申請状態のステータス選択機能

## 7. 出力機能

### 7.1 基本機能（マスト要件）
- 設置物一覧出力機能（CSVまたはPDF）
- 差異一覧リスト出力機能
- 設置物の影響評価入力・出力機能
- 申請書内容の編集・更新機能（主管G操作）

### 7.2 追加機能（重要・可能なら）
- メッセージテンプレートの自動挿入・送信機能（重要要件）
- 担当部署へのメッセージ送信機能（可能なら）

## 8. 管理機能

### 8.1 基本機能（マスト要件）
- ユーザーアクセス履歴のログ管理機能
- ユーザー毎の利用時間集計・表示機能
- 差分検出精度のログ管理・可視化機能
- ユーザー権限管理およびアクセス制御機能
- データ保存期間の設定および自動削除機能
- データの手動削除／保存機能（削除時は承認必須）

### 8.2 追加機能（可能なら）
- Wチェック依頼通知および承認フロー機能
- 設置物申請内容の承認・却下機能
- データ蓄積による精度分析機能

## 9. 将来拡張機能（主管G操作）

- 申請書提出要否のフラグ付与機能
- 設置物の寸法・重量・評価結果記載機能
- 指定フォーマットのExcelファイル自動取込・データ登録機能
- 申請書の自動採番機能
- 設置物周辺情報の地図表示機能（縮尺、距離、エリア情報付き）

## 注意事項

1. 差分検知について、時系列ごとに履歴を参照し、傾向の分析のためにデータを取得する機能は重要
2. 差異情報は時期ごとに参照できることが望ましい 